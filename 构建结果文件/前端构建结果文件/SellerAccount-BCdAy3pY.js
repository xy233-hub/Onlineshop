import{_ as w,c as d,b as o,a as m,w as u,d as l,v as i,n as c,t as g,o as p}from"./index-5YFhHKL4.js";const _={name:"SellerAccount",data(){return{old_password:"",new_password:"",msg:"",msgType:""}},methods:{async changePassword(){this.msg="";const r=localStorage.getItem("seller_token"),n=await(await fetch("/api/seller/password",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({old_password:this.old_password,new_password:this.new_password})})).json();n.code===200?(this.msg="修改成功",this.msgType="success",this.old_password="",this.new_password=""):(this.msg=n.message,this.msgType="error")}}},h={class:"seller-account-wrapper"},y={class:"seller-account-card"};function b(r,s,n,f,e,a){return p(),d("div",h,[o("div",y,[s[5]||(s[5]=o("h2",null,"账户管理",-1)),o("form",{onSubmit:s[2]||(s[2]=u((...t)=>a.changePassword&&a.changePassword(...t),["prevent"]))},[l(o("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>e.old_password=t),type:"password",placeholder:"原密码",required:""},null,512),[[i,e.old_password]]),l(o("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>e.new_password=t),type:"password",placeholder:"新密码",required:""},null,512),[[i,e.new_password]]),s[4]||(s[4]=o("button",{type:"submit",class:"submit-btn"},"修改密码",-1))],32),e.msg?(p(),d("div",{key:0,class:c(e.msgType)},g(e.msg),3)):m("",!0),o("button",{class:"back-btn",onClick:s[3]||(s[3]=t=>r.$router.back())},"返回")])])}const k=w(_,[["render",b],["__scopeId","data-v-1995d5d2"]]);export{k as default};
