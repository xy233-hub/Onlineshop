import{_ as u,c as l,b as s,w as p,a as m,d as i,v as a,t as f,o as d}from"./index-5YFhHKL4.js";const g={name:"SellerLogin",data(){return{username:"",password:"",error:""}},methods:{async handleLogin(){this.error="";try{const e=await(await fetch("/api/seller/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})})).json();e.code===200?(localStorage.setItem("seller_token",e.data.token),this.$router.push("/seller/dashboard")):this.error=e.message}catch{this.error="网络错误"}}}},w={class:"seller-login"},h={class:"login-card"},c={class:"form-row"},v={class:"form-row"},b={key:0,class:"error"};function y(t,e,_,S,r,n){return d(),l("div",w,[s("div",h,[e[6]||(e[6]=s("h2",null,"商家登录",-1)),s("form",{onSubmit:e[2]||(e[2]=p((...o)=>n.handleLogin&&n.handleLogin(...o),["prevent"]))},[s("div",c,[e[3]||(e[3]=s("label",null,"用户名",-1)),i(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.username=o),required:""},null,512),[[a,r.username]])]),s("div",v,[e[4]||(e[4]=s("label",null,"密码",-1)),i(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.password=o),type:"password",required:""},null,512),[[a,r.password]])]),e[5]||(e[5]=s("button",{type:"submit",class:"login-btn"},"登录",-1)),r.error?(d(),l("div",b,f(r.error),1)):m("",!0)],32)])])}const L=u(g,[["render",y],["__scopeId","data-v-d5dd3a1f"]]);export{L as default};
